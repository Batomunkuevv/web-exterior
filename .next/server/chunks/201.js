exports.id=201,exports.ids=[201],exports.modules={795:(e,t,r)=>{"use strict";r.d(t,{FloorPlan:()=>s});var n=r(687),o=r(3210);let s=({selectedFloor:e,selectedApartament:t,setSelectedApartament:r})=>{let[s,l]=(0,o.useState)(null),i=async()=>{let r=`/floors/${e.occluderName}/floor-plan.svg`,n=await fetch(r),o=await n.text();t&&(o=o.replace(RegExp(`id="${t.id}"`,"g"),`id="${t.id}" class="selected-apartament"`)),l(o)};return((0,o.useEffect)(()=>{i()},[t]),s)?(0,n.jsx)("div",{onClick:t=>{let{target:n}=t;if(!(n instanceof SVGElement&&"path"===n.nodeName))return;let o=n.id;if(!o)return;let s=e.apartaments.find(e=>e.id===o);s&&r(s)},className:"floor-plan",dangerouslySetInnerHTML:{__html:s}}):null}},1135:()=>{},1608:(e,t,r)=>{"use strict";r.d(t,{ThreeScene:()=>n});let n=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call ThreeScene() from the server but ThreeScene is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/features/ThreeScene.tsx","ThreeScene")},2028:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},2593:(e,t,r)=>{"use strict";r.d(t,{FloorPlan:()=>n});let n=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call FloorPlan() from the server but FloorPlan is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/features/FloorPlan.tsx","FloorPlan")},3081:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>c});var n=r(7413),o=r(5986),s=r(5279),l=r.n(s);r(1135),r(1608),r(2593);let i=({children:e})=>(0,n.jsx)("div",{className:"flex flex-col overflow-clip min-h-screen",children:(0,n.jsx)("main",{className:"flex-1",children:e})});r(7005);let c={title:"360\xb0 View with 3D Model"},a=({children:e})=>(0,n.jsx)("html",{lang:"ru",children:(0,n.jsx)("body",{className:(0,o.A)(l().variable),children:(0,n.jsx)(i,{children:e})})})},6590:(e,t,r)=>{Promise.resolve().then(r.bind(r,2593)),Promise.resolve().then(r.bind(r,1608)),Promise.resolve().then(r.bind(r,7005))},6772:(e,t,r)=>{"use strict";r.d(t,{ThreeScene:()=>h});var n=r(687),o=r(3210),s=r(4546),l=r(2905),i=r(6376);let c=[{occluderName:"Ocluder_1",description:"1B - 2 bedroom",apartaments:[{id:"1",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"},{id:"2",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"}]},{occluderName:"Ocluder_2",description:"2B - 2 bedroom",apartaments:[{id:"1",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"},{id:"2",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"}]},{occluderName:"Ocluder_3",description:"3B - 2 bedroom",apartaments:[{id:"1",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"},{id:"2",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"}]},{occluderName:"Ocluder_4",description:"4B - 2 bedroom",apartaments:[{id:"1",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"},{id:"2",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"}]},{occluderName:"Ocluder_pent",description:"Pent - 2 bedroom",apartaments:[{id:"1",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"},{id:"2",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"}]}],a=new s.Pq0(0,0,0),u=new s.Pq0(1.609383,-5.364124,-6.248453),d=s.cj9.radToDeg(2*Math.atan(Math.tan(s.cj9.degToRad(37)/1))),h=({selectedFloor:e,setSelectedFloor:t,setSelectedApartament:r,setIsOpenFloorPanel:h})=>{let m=(0,o.useRef)(null),p=(0,o.useRef)(null),v=(0,o.useRef)(null),f=(0,o.useRef)(null),x=(0,o.useRef)(null),w=(0,o.useRef)(new s.tBo),b=(0,o.useRef)(new s.I9Y),g=(0,o.useRef)(null),k=(0,o.useRef)(!1),j=(0,o.useRef)(0),y=(0,o.useRef)(0),P=(0,o.useRef)(36),E=(0,o.useRef)(!1),L=new s.Q1f("#4A90E2"),C=new s.Q1f("#0074D9"),M=()=>{let e=g.current;e&&e.userData?.defaultMaterial&&(e.material=e.userData.defaultMaterial,g.current=null)},N=(0,o.useRef)(null),W=e=>{let n=c.find(t=>t.occluderName===e.name);n&&(M(),e.isMesh&&e.userData?.activeMaterial&&(e.material=e.userData.activeMaterial,N.current=e),t(n),r(null),h(!0))},F=(e,t)=>{if(!p.current||!v.current||!x.current)return;let r=p.current.domElement.getBoundingClientRect();b.current.x=(e-r.left)/r.width*2-1,b.current.y=-(2*((t-r.top)/r.height))+1,w.current.setFromCamera(b.current,v.current);let n=w.current.intersectObjects(x.current.children,!0);if(g.current){let e=g.current;e.userData?.defaultMaterial&&(e.material=e.userData.defaultMaterial),g.current=null}if(n.length>0){let e=n[0].object;e.userData?.hoverMaterial&&(e.material=e.userData.hoverMaterial,g.current=e)}},D=e=>{if(!k.current){let t=e.clientX-j.current,r=e.clientY-y.current;Math.sqrt(t*t+r*r)>5&&(k.current=!0)}F(e.clientX,e.clientY)},R=e=>{if(1===e.touches.length){let t=e.touches[0].clientX-j.current,r=e.touches[0].clientY-y.current;Math.sqrt(t*t+r*r)>5&&(k.current=!0)}},T=e=>{k.current=!1,j.current=e.clientX,y.current=e.clientY},B=e=>{if(1===e.touches.length){let t=e.touches[0].clientX,r=e.touches[0].clientY;k.current=!1,j.current=t,y.current=r}},A=e=>{if(k.current)return;let t="touches"in e?e.touches[0].clientX:e.clientX,r="touches"in e?e.touches[0].clientY:e.clientY;if(!p.current||!v.current||!x.current)return;let n=p.current.domElement.getBoundingClientRect();b.current.x=(t-n.left)/n.width*2-1,b.current.y=-(2*((r-n.top)/n.height))+1,w.current.setFromCamera(b.current,v.current);let o=w.current.intersectObjects(x.current.children,!0);if(o.length>0){let e=o[0].object;e.userData?.info&&W(e)}},S=()=>{if(E.current)return;E.current=!0;let e=window.CI360;if(e?.getActiveIndexByID&&v.current){let t=e.getActiveIndexByID("product-360");if(void 0!==t){let e=-(t/P.current)*Math.PI*2,r=u.x+40*Math.sin(e),n=u.y+10,o=u.z+40*Math.cos(e);v.current.position.set(r,n,o),v.current.lookAt(u)}}E.current=!1},I=()=>{requestAnimationFrame(I),S(),p.current&&f.current&&v.current&&p.current.render(f.current,v.current)};(0,o.useEffect)(()=>{let e=m.current;if(!e)return;let t=new s.Z58;f.current=t,v.current=new s.ubm(d,e.clientWidth/e.clientHeight,.1,1e3);let r=new l.JeP({antialias:!0,alpha:!0});r.setSize(e.clientWidth,e.clientHeight),e.appendChild(r.domElement),p.current=r;let n=new s.YJl;return t.add(n),x.current=n,new i.B().load("/models/ocluder.glb",e=>{let t=e.scene,r=new s.Q1f("#000");t.traverse(e=>{if(e.isMesh){let t=new s.V9B({color:r,transparent:!1,opacity:1,depthWrite:!0,depthTest:!0,colorWrite:!1,side:s.$EB}),n=new s.V9B({color:L,transparent:!0,opacity:.4,depthWrite:!1,depthTest:!0,side:s.hB5,blending:s.XIg}),o=new s.V9B({color:C,transparent:!0,opacity:.6,depthWrite:!1,depthTest:!0,side:s.hB5,blending:s.XIg});e.material=t,e.renderOrder=999,e.userData={info:"Occluder",defaultMaterial:t,hoverMaterial:n,activeMaterial:o}}}),t.position.copy(a),n.add(t)}),setTimeout(()=>{let e=document.querySelector(".cloudimage-360");P.current=parseInt(e?.getAttribute("data-amount-x")||"36")},100),I(),window.addEventListener("resize",()=>r.setSize(e.clientWidth,e.clientHeight)),()=>{window.removeEventListener("resize",()=>r.setSize(e.clientWidth,e.clientHeight)),p.current&&p.current.dispose()}},[]),(0,o.useEffect)(()=>(e?(window.removeEventListener("mousemove",D),window.removeEventListener("mousedown",T),window.removeEventListener("click",A),window.removeEventListener("touchstart",B),window.removeEventListener("touchmove",R),window.removeEventListener("touchend",U),M()):(window.addEventListener("mousedown",T),window.addEventListener("click",A),window.addEventListener("touchstart",B,{passive:!1}),window.addEventListener("touchmove",R,{passive:!1}),window.addEventListener("touchend",U,{passive:!1}),window.addEventListener("mousemove",D)),()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mousedown",T),window.removeEventListener("click",A),window.removeEventListener("touchstart",B),window.removeEventListener("touchmove",R),window.removeEventListener("touchend",U)}),[e]);let U=e=>{if(1===e.changedTouches.length){let t=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY;if(!p.current||!v.current||!x.current)return;let n=p.current.domElement.getBoundingClientRect();b.current.x=(t-n.left)/n.width*2-1,b.current.y=-(2*((r-n.top)/n.height))+1,w.current.setFromCamera(b.current,v.current);let o=w.current.intersectObjects(x.current.children,!0);if(o.length>0){let e=o[0].object;e.userData?.info&&W(e)}}};return(0,o.useEffect)(()=>{null===e&&N.current&&N.current.userData?.defaultMaterial&&(N.current.material=N.current.userData.defaultMaterial,N.current=null)},[e]),(0,n.jsx)("div",{ref:m,id:"threejs-container",className:"w-full h-full"})}},7005:(e,t,r)=>{"use strict";r.d(t,{FloorPanel:()=>n});let n=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call FloorPanel() from the server but FloorPanel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/ui/FloorPanel.tsx","FloorPanel")},8476:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},9431:(e,t,r)=>{"use strict";r.d(t,{FloorPanel:()=>c});var n=r(687),o=r(9384),s=r(3210),l=r(474),i=r(9713);let c=({selectedFloor:e,setSelectedFloor:t,isOpenFloorPanel:r,setIsOpenFloorPanel:c,selectedApartament:a,setSelectedApartament:u,setTourUrl:d})=>{let h=e?`/floors/${e.occluderName}/floor-base.png`:null;return(0,s.useEffect)(()=>{e&&u(e.apartaments[0])},[e]),(0,n.jsxs)("div",{className:(0,o.A)("py-[calc(var(--index)*1.35)] px-[40px] z-[100] fixed top-[6.5vh] right-[40px] w-full max-w-[calc(var(--index)*13.2)] max-h-[calc(100%-56px)]","tb:pt-[5vh] tb:pb-[3vh] tb:px-[24px] tb:top-[16px] tb:right-1/2 tb:translate-x-1/2 tb:w-[calc(100%-32px)] tb:max-w-[360px] tb:max-h-[calc(100%-32px)]","bg-floor-panel border-2 border-yellow flex flex-col items-center text-center","overflow-auto transition-all duration-300",{"opacity-100 pointer-events-auto":r,"opacity-0 pointer-events-none":!r}),children:[(0,n.jsx)("button",{onClick:()=>{c(!1),setTimeout(()=>{t(null)},300)},className:"absolute top-[calc(var(--index)*0.7)] right-[calc(var(--index)*0.55)] w-[calc(var(--index)*0.55)] h-[calc(var(--index)*0.55)] text-black",children:(0,n.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M1 1L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M15 1L1 15",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})]})}),(0,n.jsx)("h2",{className:"mb-[calc(var(--index)*1.05)] text-[calc(var(--index)*1.05)] leading-[130%] tb:text-[calc(var(--index)*1.5)]",children:"1152 Lafayette Ave"}),(0,n.jsxs)("div",{className:"mb-[calc(var(--index)*1.6)] sm:mb-[calc(var(--index)*1.05)]",children:[e?.description&&(0,n.jsx)("p",{dangerouslySetInnerHTML:{__html:e.description}}),a?.description&&(0,n.jsx)("p",{dangerouslySetInnerHTML:{__html:a.description}})]}),h&&(0,n.jsxs)("div",{className:(0,o.A)("mx-[-40px] mb-[32px] w-[calc(100%+80px)] max-h-[54vh] overflow-hidden relative","tb:mx-[-24px] tb:w-[calc(100%+48px)]"),children:[(0,n.jsx)("div",{className:"pt-[139.28%]"}),(0,n.jsx)(l.default,{className:"object-contain",fill:!0,src:h,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",alt:"Apartament"}),e&&(0,n.jsx)(i.sk,{selectedFloor:e,selectedApartament:a,setSelectedApartament:u})]}),(0,n.jsx)(i.$n,{className:"mt-auto",onClick:()=>{a&&d(a.tourUrl)},children:"Explore 3d"})]})}},9638:(e,t,r)=>{Promise.resolve().then(r.bind(r,795)),Promise.resolve().then(r.bind(r,6772)),Promise.resolve().then(r.bind(r,9431))},9713:(e,t,r)=>{"use strict";r.d(t,{$n:()=>a,Dp:()=>l.FloorPanel,sk:()=>o.FloorPlan,jN:()=>c,Xl:()=>n.ThreeScene});var n=r(6772),o=r(795),s=r(687),l=r(9431),i=r(9384);let c=({iframeUrl:e,onClose:t})=>e?(0,s.jsxs)("div",{className:(0,i.A)("fixed inset-0 z-[100] bg-overlay flex items-center justify-center px-2 sm:px-6","transition-all duration-1000",{"opacity-100 pointer-events-auto":e,"opacity-0 pointer-events-none":!e}),onClick:t,children:[(0,s.jsx)("button",{className:"absolute top-[24px] right-[16px] text-white",children:(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M1 1L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M15 1L1 15",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})]})}),(0,s.jsx)("div",{className:"relative w-full max-w-[800px] bg-black rounded-xl shadow-xl overflow-hidden max-h-[90dvh]",onClick:e=>e.stopPropagation(),children:(0,s.jsx)("iframe",{src:e,className:"w-full h-[70dvh] sm:h-[600px] border-none rounded-xl",allow:"xr-spatial-tracking; gyroscope; accelerometer",allowFullScreen:!0})})]}):null,a=e=>{let{className:t,children:r,onClick:n,isDisabled:o=!1,...l}=e,c=(0,i.A)("py-[10px] px-[32px] w-full min-h-[calc(var(--index)*1.4)] flex items-center justify-center rounded-[10px] bg-white shadow-button uppercase","transition-all duration-300 hover:bg-black hover:text-white",t);return(0,s.jsx)("button",{type:"button",disabled:o,onClick:n,className:c,...l,children:r})}}};