{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/features/ThreeScene.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\n\nimport { ThreeSceneProps } from \"@/types\";\n\nimport { floorsData } from \"@data\";\n\nconst MODEL_POSITION = new THREE.Vector3(0, 0, 0);\nconst ROTATION_CENTER = new THREE.Vector3(1.609383, -5.364124, -6.248453);\nconst CAMERA_RADIUS = 40;\nconst CAMERA_FOV = 74;\nconst CAMERA_HEIGHT_OFFSET = 10;\nconst CAMERA_WIDTH = 2048;\nconst CAMERA_HEIGHT = 2048;\nconst CAMERA_ASPECT_RATIO = CAMERA_WIDTH / CAMERA_HEIGHT;\nconst VERTICAL_FOV = THREE.MathUtils.radToDeg(2 * Math.atan(Math.tan(THREE.MathUtils.degToRad(CAMERA_FOV) / 2) / CAMERA_ASPECT_RATIO));\nconst DRAG_THRESHOLD = 5;\n\nexport const ThreeScene: React.FC<ThreeSceneProps> = ({ setSelectedFloor }) => {\n    const containerRef = useRef<HTMLDivElement>(null);\n    const rendererRef = useRef<THREE.WebGLRenderer | null>(null);\n    const cameraRef = useRef<THREE.PerspectiveCamera | null>(null);\n    const sceneRef = useRef<THREE.Scene | null>(null);\n    const modelGroupRef = useRef<THREE.Group | null>(null);\n    const raycasterRef = useRef<THREE.Raycaster>(new THREE.Raycaster());\n    const mouseRef = useRef<THREE.Vector2>(new THREE.Vector2());\n\n    const axesHelperRef = useRef<THREE.AxesHelper | null>(null);\n    const debugSphereRef = useRef<THREE.Mesh | null>(null);\n    const mousePositionHelperRef = useRef<THREE.Line | null>(null);\n    const [debugVisible, setDebugVisible] = useState(false);\n\n    const hoveredObjectRef = useRef<THREE.Mesh | null>(null);\n    const totalImagesRef = useRef<number>(36);\n    const isDraggingRef = useRef<boolean>(false);\n    const mouseStartXRef = useRef<number>(0);\n    const mouseStartYRef = useRef<number>(0);\n    const isUpdatingCameraRef = useRef<boolean>(false);\n\n    const isTouchDevice = typeof window !== \"undefined\" && (\"ontouchstart\" in window || navigator.maxTouchPoints > 0);\n\n    const handleObjectClick = (object: THREE.Object3D) => {\n        const { name } = object;\n\n        setSelectedFloor();\n    };\n\n    useEffect(() => {\n        const container = containerRef.current;\n\n        if (!container) return;\n\n        const scene = new THREE.Scene();\n        sceneRef.current = scene;\n\n        const axesHelper = new THREE.AxesHelper(5);\n        scene.add(axesHelper);\n        axesHelper.visible = false;\n        axesHelperRef.current = axesHelper;\n\n        const sphereGeometry = new THREE.SphereGeometry(0.2, 16, 16);\n        const sphereMaterial = new THREE.MeshBasicMaterial({ color: 0xff0000 });\n        const debugSphere = new THREE.Mesh(sphereGeometry, sphereMaterial);\n        scene.add(debugSphere);\n        debugSphere.visible = false;\n        debugSphereRef.current = debugSphere;\n\n        const lineGeometry = new THREE.BufferGeometry();\n        const lineMaterial = new THREE.LineBasicMaterial({ color: 0x00ff00 });\n        const mousePositionHelper = new THREE.Line(lineGeometry, lineMaterial);\n        scene.add(mousePositionHelper);\n        mousePositionHelper.visible = false;\n        mousePositionHelperRef.current = mousePositionHelper;\n\n        const camera = new THREE.PerspectiveCamera(VERTICAL_FOV, container.clientWidth / container.clientHeight, 0.1, 1000);\n        cameraRef.current = camera;\n\n        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\n        renderer.setSize(container.clientWidth, container.clientHeight);\n        container.appendChild(renderer.domElement);\n        rendererRef.current = renderer;\n\n        const modelGroup = new THREE.Group();\n        scene.add(modelGroup);\n        modelGroupRef.current = modelGroup;\n\n        const loader = new GLTFLoader();\n        loader.load(\"/models/ocluder.glb\", (gltf) => {\n            const model = gltf.scene;\n            const originalColor = 0xff0000;\n\n            model.traverse((child) => {\n                if ((child as THREE.Mesh).isMesh) {\n                    const mesh = child as THREE.Mesh;\n                    mesh.material = new THREE.MeshBasicMaterial({\n                        color: originalColor,\n                        transparent: true,\n                        opacity: 0.0,\n                        depthWrite: true,\n                        depthTest: true,\n                        side: THREE.DoubleSide,\n                        stencilWrite: true,\n                        stencilRef: 1,\n                        stencilFunc: THREE.AlwaysStencilFunc,\n                        stencilZPass: THREE.ReplaceStencilOp,\n                    });\n                }\n                child.userData = {\n                    info: \"Penthouse Floor Model\",\n                    originalColor: originalColor,\n                    isVisible: false,\n                    isOccluder: true,\n                };\n            });\n\n            model.renderOrder = 0;\n            modelGroup.renderOrder = 0;\n            model.position.copy(MODEL_POSITION);\n            modelGroup.add(model);\n        });\n\n        const handleKeyDown = (event: KeyboardEvent) => {\n            if (event.ctrlKey && event.shiftKey && event.key.toLowerCase() === \"l\") {\n                setDebugVisible((prev) => !prev);\n                if (axesHelperRef.current) axesHelperRef.current.visible = !debugVisible;\n                if (debugSphereRef.current) debugSphereRef.current.visible = !debugVisible;\n                if (mousePositionHelperRef.current) mousePositionHelperRef.current.visible = !debugVisible;\n            }\n        };\n\n        const updateRendererSize = () => {\n            const viewer360Canvas = document.querySelector(\".cloudimage-360 canvas\");\n            if (viewer360Canvas && rendererRef.current && cameraRef.current) {\n                const rect = viewer360Canvas.getBoundingClientRect();\n                rendererRef.current.setSize(rect.width, rect.height);\n\n                // Remove inline styles\n                rendererRef.current.domElement.style.position = \"\";\n                rendererRef.current.domElement.style.left = \"\";\n                rendererRef.current.domElement.style.top = \"\";\n\n                // Update camera aspect\n                const aspect = rect.width / rect.height;\n                cameraRef.current.aspect = aspect;\n                cameraRef.current.updateProjectionMatrix();\n            }\n        };\n\n        const handlePointerMove = (clientX: number, clientY: number) => {\n            if (!rendererRef.current || !cameraRef.current || !modelGroupRef.current) return;\n\n            const rect = rendererRef.current.domElement.getBoundingClientRect();\n            mouseRef.current.x = ((clientX - rect.left) / rect.width) * 2 - 1;\n            mouseRef.current.y = -((clientY - rect.top) / rect.height) * 2 + 1;\n\n            raycasterRef.current.setFromCamera(mouseRef.current, cameraRef.current);\n            const intersects = raycasterRef.current.intersectObjects(modelGroupRef.current.children, true);\n\n            // Update debug sphere position\n            if (debugSphereRef.current && intersects.length > 0) {\n                debugSphereRef.current.position.copy(intersects[0].point);\n            }\n\n            // Update mouse ray line\n            if (mousePositionHelperRef.current) {\n                const points = [cameraRef.current.position];\n                const targetPoint = new THREE.Vector3();\n                raycasterRef.current.ray.at(10, targetPoint);\n                points.push(targetPoint);\n                mousePositionHelperRef.current.geometry.setFromPoints(points);\n            }\n\n            if (isTouchDevice) return;\n\n            if (hoveredObjectRef.current) {\n                const mat = hoveredObjectRef.current.material as THREE.MeshBasicMaterial;\n                mat.opacity = 0.0;\n                mat.depthWrite = true;\n                mat.userData.isOccluder = true;\n                mat.blending = THREE.NormalBlending;\n                hoveredObjectRef.current = null;\n            }\n\n            if (intersects.length > 0) {\n                const intersectedObject = intersects[0].object as THREE.Mesh;\n                if (intersectedObject.userData) {\n                    hoveredObjectRef.current = intersectedObject;\n                    const mat = intersectedObject.material as THREE.MeshBasicMaterial;\n                    mat.color.set(0x000044);\n                    mat.opacity = 0.05;\n                    mat.depthWrite = false;\n                    mat.blending = THREE.NoBlending;\n                    intersectedObject.userData.isOccluder = false;\n                    intersectedObject.userData.isVisible = true;\n                }\n            }\n        };\n\n        const handleMouseMove = (e: MouseEvent) => {\n            if (!isDraggingRef.current) {\n                const dx = e.clientX - mouseStartXRef.current;\n                const dy = e.clientY - mouseStartYRef.current;\n                const distance = Math.sqrt(dx * dx + dy * dy);\n                if (distance > DRAG_THRESHOLD) {\n                    isDraggingRef.current = true;\n                }\n            }\n            handlePointerMove(e.clientX, e.clientY);\n        };\n\n        const handleTouchMove = (e: TouchEvent) => {\n            if (e.touches.length === 1) {\n                handlePointerMove(e.touches[0].clientX, e.touches[0].clientY);\n            }\n        };\n\n        const handleMouseDown = (e: MouseEvent) => {\n            isDraggingRef.current = false;\n            mouseStartXRef.current = e.clientX;\n            mouseStartYRef.current = e.clientY;\n        };\n\n        const handleTouchStart = (e: TouchEvent) => {\n            if (e.touches.length === 1) {\n                isDraggingRef.current = false;\n                mouseStartXRef.current = e.touches[0].clientX;\n                mouseStartYRef.current = e.touches[0].clientY;\n            }\n        };\n\n        const handleClick = (e: MouseEvent | TouchEvent) => {\n            if (isDraggingRef.current) return;\n\n            const clientX = \"touches\" in e ? e.touches[0].clientX : e.clientX;\n            const clientY = \"touches\" in e ? e.touches[0].clientY : e.clientY;\n\n            if (!rendererRef.current || !cameraRef.current || !modelGroupRef.current) return;\n\n            const rect = rendererRef.current.domElement.getBoundingClientRect();\n            mouseRef.current.x = ((clientX - rect.left) / rect.width) * 2 - 1;\n            mouseRef.current.y = -((clientY - rect.top) / rect.height) * 2 + 1;\n\n            raycasterRef.current.setFromCamera(mouseRef.current, cameraRef.current);\n            const intersects = raycasterRef.current.intersectObjects(modelGroupRef.current.children, true);\n\n            if (intersects.length > 0) {\n                const clickedObject = intersects[0].object;\n\n                if (clickedObject.userData && clickedObject.userData.info) {\n                    handleObjectClick(clickedObject);\n                }\n            }\n        };\n\n        const updateCameraPosition = () => {\n            if (isUpdatingCameraRef.current) return;\n            isUpdatingCameraRef.current = true;\n\n            const viewer = window.CI360;\n            if (viewer?.getActiveIndexByID && cameraRef.current) {\n                const currentIndex = viewer.getActiveIndexByID(\"product-360\");\n                if (currentIndex !== undefined) {\n                    const angle = -(currentIndex / totalImagesRef.current) * Math.PI * 2;\n                    const x = ROTATION_CENTER.x + CAMERA_RADIUS * Math.sin(angle);\n                    const y = ROTATION_CENTER.y + CAMERA_HEIGHT_OFFSET;\n                    const z = ROTATION_CENTER.z + CAMERA_RADIUS * Math.cos(angle);\n                    cameraRef.current.position.set(x, y, z);\n                    cameraRef.current.lookAt(ROTATION_CENTER);\n                }\n            }\n\n            isUpdatingCameraRef.current = false;\n        };\n\n        const animate = () => {\n            requestAnimationFrame(animate);\n            updateCameraPosition();\n            if (rendererRef.current && sceneRef.current && cameraRef.current) {\n                rendererRef.current.render(sceneRef.current, cameraRef.current);\n            }\n        };\n\n        const getTotalImages = () => {\n            const viewer = document.querySelector(\".cloudimage-360\");\n            if (viewer) {\n                totalImagesRef.current = parseInt(viewer.getAttribute(\"data-amount-x\") || \"36\");\n            }\n        };\n\n        setTimeout(() => {\n            updateRendererSize();\n            getTotalImages();\n        }, 100);\n\n        window.addEventListener(\"resize\", updateRendererSize);\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"mousedown\", handleMouseDown);\n        document.addEventListener(\"click\", handleClick);\n        document.addEventListener(\"touchstart\", handleTouchStart, { passive: false });\n        document.addEventListener(\"touchmove\", handleTouchMove, { passive: false });\n        document.addEventListener(\"keydown\", handleKeyDown);\n\n        animate();\n\n        // Cleanup\n        return () => {\n            window.removeEventListener(\"resize\", updateRendererSize);\n            document.removeEventListener(\"mousemove\", handleMouseMove);\n            document.removeEventListener(\"mousedown\", handleMouseDown);\n            document.removeEventListener(\"click\", handleClick);\n            document.removeEventListener(\"touchstart\", handleTouchStart);\n            document.removeEventListener(\"touchmove\", handleTouchMove);\n            document.removeEventListener(\"keydown\", handleKeyDown);\n\n            if (rendererRef.current) {\n                rendererRef.current.dispose();\n            }\n        };\n    }, []);\n\n    return <div ref={containerRef} id=\"threejs-container\" style={{ width: \"100%\", height: \"100%\" }} />;\n};\n"],"names":[],"mappings":"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","debugId":null}}]
}