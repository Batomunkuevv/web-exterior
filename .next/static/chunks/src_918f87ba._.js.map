{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/data/floors.ts"],"sourcesContent":["import { FloorType } from \"@t\";\n\nexport const floorsData: FloorType[] = [\n    {\n        occluderName: \"Ocluder_1\",\n        description: \"1B - 2 bedroom\",\n        apartaments: [\n            {\n                id: \"1\",\n                description: \"975 sf\",\n                tourUrl: \"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1\",\n            },\n            {\n                id: \"2\",\n                description: \"975 sf\",\n                tourUrl: \"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1\",\n            },\n        ],\n    },\n    {\n        occluderName: \"Ocluder_2\",\n        description: \"2B - 2 bedroom\",\n        apartaments: [\n            {\n                id: \"1\",\n                description: \"975 sf\",\n                tourUrl: \"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1\",\n            },\n            {\n                id: \"2\",\n                description: \"975 sf\",\n                tourUrl: \"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1\",\n            },\n        ],\n    },\n    {\n        occluderName: \"Ocluder_3\",\n        description: \"3B - 2 bedroom\",\n        apartaments: [\n            {\n                id: \"1\",\n                description: \"975 sf\",\n                tourUrl: \"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1\",\n            },\n            {\n                id: \"2\",\n                description: \"975 sf\",\n                tourUrl: \"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1\",\n            },\n        ],\n    },\n    {\n        occluderName: \"Ocluder_4\",\n        description: \"4B - 2 bedroom\",\n        apartaments: [\n            {\n                id: \"1\",\n                description: \"975 sf\",\n                tourUrl: \"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1\",\n            },\n            {\n                id: \"2\",\n                description: \"975 sf\",\n                tourUrl: \"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1\",\n            },\n        ],\n    },\n    {\n        occluderName: \"Ocluder_pent\",\n        description: \"Pent - 2 bedroom\",\n        apartaments: [\n            {\n                id: \"1\",\n                description: \"975 sf\",\n                tourUrl: \"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1\",\n            },\n            {\n                id: \"2\",\n                description: \"975 sf\",\n                tourUrl: \"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1\",\n            },\n        ],\n    },\n];\n"],"names":[],"mappings":";;;AAEO,MAAM,aAA0B;IACnC;QACI,cAAc;QACd,aAAa;QACb,aAAa;YACT;gBACI,IAAI;gBACJ,aAAa;gBACb,SAAS;YACb;YACA;gBACI,IAAI;gBACJ,aAAa;gBACb,SAAS;YACb;SACH;IACL;IACA;QACI,cAAc;QACd,aAAa;QACb,aAAa;YACT;gBACI,IAAI;gBACJ,aAAa;gBACb,SAAS;YACb;YACA;gBACI,IAAI;gBACJ,aAAa;gBACb,SAAS;YACb;SACH;IACL;IACA;QACI,cAAc;QACd,aAAa;QACb,aAAa;YACT;gBACI,IAAI;gBACJ,aAAa;gBACb,SAAS;YACb;YACA;gBACI,IAAI;gBACJ,aAAa;gBACb,SAAS;YACb;SACH;IACL;IACA;QACI,cAAc;QACd,aAAa;QACb,aAAa;YACT;gBACI,IAAI;gBACJ,aAAa;gBACb,SAAS;YACb;YACA;gBACI,IAAI;gBACJ,aAAa;gBACb,SAAS;YACb;SACH;IACL;IACA;QACI,cAAc;QACd,aAAa;QACb,aAAa;YACT;gBACI,IAAI;gBACJ,aAAa;gBACb,SAAS;YACb;YACA;gBACI,IAAI;gBACJ,aAAa;gBACb,SAAS;YACb;SACH;IACL;CACH","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/data/index.ts"],"sourcesContent":["export * from \"./floors\";\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/features/ThreeScene.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useCallback } from \"react\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\nimport { ThreeSceneProps } from \"@/types\";\nimport { floorsData } from \"@data\";\n\nconst MODEL_POSITION = new THREE.Vector3(0, 0, 0);\nconst ROTATION_CENTER = new THREE.Vector3(1.609383, -5.364124, -6.248453);\nconst CAMERA_RADIUS = 40;\nconst CAMERA_FOV = 74;\nconst CAMERA_HEIGHT_OFFSET = 10;\nconst CAMERA_ASPECT_RATIO = 2048 / 2048;\nconst VERTICAL_FOV = THREE.MathUtils.radToDeg(2 * Math.atan(Math.tan(THREE.MathUtils.degToRad(CAMERA_FOV / 2) / CAMERA_ASPECT_RATIO)));\nconst DRAG_THRESHOLD = 5;\n\nconst isTouchDevice = typeof window !== \"undefined\" && (\"ontouchstart\" in window || navigator.maxTouchPoints > 0);\n\nexport const ThreeScene = ({ isLoading360, selectedFloor, setSelectedFloor, setSelectedApartament, setIsOpenFloorPanel }: ThreeSceneProps) => {\n    const containerRef = useRef<HTMLDivElement>(null);\n    const rendererRef = useRef<THREE.WebGLRenderer | null>(null);\n    const cameraRef = useRef<THREE.PerspectiveCamera | null>(null);\n    const sceneRef = useRef<THREE.Scene | null>(null);\n    const modelGroupRef = useRef<THREE.Group | null>(null);\n    const raycasterRef = useRef(new THREE.Raycaster());\n    const mouseRef = useRef(new THREE.Vector2());\n    const hoveredObjectRef = useRef<THREE.Mesh | null>(null);\n    const isLoading360Ref = useRef(isLoading360);\n\n    const isDraggingRef = useRef(false);\n    const mouseStartXRef = useRef(0);\n    const mouseStartYRef = useRef(0);\n    const totalImagesRef = useRef(36);\n    const isUpdatingCameraRef = useRef(false);\n\n    // Цвета для выделения\n    const HOVER_COLOR = new THREE.Color(\"#4A90E2\"); // мягкий синий\n    const ACTIVE_COLOR = new THREE.Color(\"#0074D9\"); // ярко-синий\n\n    const resetHoveredObject = () => {\n        const hovered = hoveredObjectRef.current;\n        if (hovered && hovered.userData?.defaultMaterial) {\n            hovered.material = hovered.userData.defaultMaterial;\n            hoveredObjectRef.current = null;\n        }\n    };\n\n    // Для хранения активного объекта (кликнутого)\n    const activeObjectRef = useRef<THREE.Mesh | null>(null);\n\n    const handleObjectClick = (object: THREE.Object3D) => {\n        const floor = floorsData.find((f) => f.occluderName === object.name);\n        if (!floor) return;\n\n        resetHoveredObject();\n        // Выделить кликнутый объект ярко-синим\n        if ((object as THREE.Mesh).isMesh && (object as THREE.Mesh).userData?.activeMaterial) {\n            (object as THREE.Mesh).material = (object as THREE.Mesh).userData.activeMaterial;\n            activeObjectRef.current = object as THREE.Mesh;\n        }\n        setSelectedFloor(floor);\n        setSelectedApartament(null);\n        setIsOpenFloorPanel(true);\n    };\n\n    const handlePointerMove = useCallback((clientX: number, clientY: number) => {\n        if (!rendererRef.current || !cameraRef.current || !modelGroupRef.current || isLoading360Ref.current) {\n            return;\n        }\n\n        const rect = rendererRef.current.domElement.getBoundingClientRect();\n        mouseRef.current.x = ((clientX - rect.left) / rect.width) * 2 - 1;\n        mouseRef.current.y = -((clientY - rect.top) / rect.height) * 2 + 1;\n\n        raycasterRef.current.setFromCamera(mouseRef.current, cameraRef.current);\n        const intersects = raycasterRef.current.intersectObjects(modelGroupRef.current.children, true);\n\n        if (hoveredObjectRef.current) {\n            const prev = hoveredObjectRef.current;\n            if (prev.userData?.defaultMaterial) {\n                prev.material = prev.userData.defaultMaterial;\n            }\n            hoveredObjectRef.current = null;\n        }\n\n        if (intersects.length > 0) {\n            const mesh = intersects[0].object as THREE.Mesh;\n            if (mesh.userData?.hoverMaterial) {\n                mesh.material = mesh.userData.hoverMaterial;\n                hoveredObjectRef.current = mesh;\n            }\n        }\n    }, []);\n\n    const handleMouseMove = useCallback(\n        (e: MouseEvent) => {\n            if (!isDraggingRef.current) {\n                const dx = e.clientX - mouseStartXRef.current;\n                const dy = e.clientY - mouseStartYRef.current;\n                if (Math.sqrt(dx * dx + dy * dy) > DRAG_THRESHOLD) {\n                    isDraggingRef.current = true;\n                }\n            }\n            handlePointerMove(e.clientX, e.clientY);\n        },\n        [handlePointerMove]\n    );\n\n    const handleTouchMove = useCallback((e: TouchEvent) => {\n        if (isLoading360Ref.current) return;\n\n        if (e.touches.length === 1) {\n            const dx = e.touches[0].clientX - mouseStartXRef.current;\n            const dy = e.touches[0].clientY - mouseStartYRef.current;\n            if (Math.sqrt(dx * dx + dy * dy) > DRAG_THRESHOLD) {\n                isDraggingRef.current = true;\n                // Reset hover effect when dragging starts\n                resetHoveredObject();\n            }\n        }\n    }, []);\n\n    const handleMouseDown = useCallback((e: MouseEvent) => {\n        isDraggingRef.current = false;\n        mouseStartXRef.current = e.clientX;\n        mouseStartYRef.current = e.clientY;\n    }, []);\n\n    const handleTouchStart = useCallback((e: TouchEvent) => {\n        if (isLoading360Ref.current) return;\n\n        if (e.touches.length === 1) {\n            const clientX = e.touches[0].clientX;\n            const clientY = e.touches[0].clientY;\n            isDraggingRef.current = false;\n            mouseStartXRef.current = clientX;\n            mouseStartYRef.current = clientY;\n            // Reset hover effect on touch start\n            resetHoveredObject();\n        }\n    }, []);\n\n    const handleClick = useCallback((e: MouseEvent | TouchEvent) => {\n        if (isDraggingRef.current || isLoading360Ref.current) return;\n\n        const clientX = \"touches\" in e ? e.touches[0].clientX : e.clientX;\n        const clientY = \"touches\" in e ? e.touches[0].clientY : e.clientY;\n\n        if (!rendererRef.current || !cameraRef.current || !modelGroupRef.current) return;\n\n        const rect = rendererRef.current.domElement.getBoundingClientRect();\n        mouseRef.current.x = ((clientX - rect.left) / rect.width) * 2 - 1;\n        mouseRef.current.y = -((clientY - rect.top) / rect.height) * 2 + 1;\n\n        raycasterRef.current.setFromCamera(mouseRef.current, cameraRef.current);\n        const intersects = raycasterRef.current.intersectObjects(modelGroupRef.current.children, true);\n\n        if (intersects.length > 0) {\n            const clickedObject = intersects[0].object;\n            if (clickedObject.userData?.info) {\n                handleObjectClick(clickedObject);\n            }\n        }\n    }, []);\n\n    const updateCameraPosition = () => {\n        if (isUpdatingCameraRef.current) return;\n        isUpdatingCameraRef.current = true;\n\n        const viewer = window.CI360;\n\n        if (viewer?.getActiveIndexByID && cameraRef.current) {\n            const index = viewer.getActiveIndexByID(\"product-360\");\n\n            if (index !== undefined) {\n                const angle = -(index / totalImagesRef.current) * Math.PI * 2;\n                const x = ROTATION_CENTER.x + CAMERA_RADIUS * Math.sin(angle);\n                const y = ROTATION_CENTER.y + CAMERA_HEIGHT_OFFSET;\n                const z = ROTATION_CENTER.z + CAMERA_RADIUS * Math.cos(angle);\n                cameraRef.current.position.set(x, y, z);\n                cameraRef.current.lookAt(ROTATION_CENTER);\n            }\n        }\n\n        isUpdatingCameraRef.current = false;\n    };\n\n    const animate = () => {\n        requestAnimationFrame(animate);\n        updateCameraPosition();\n        if (rendererRef.current && sceneRef.current && cameraRef.current) {\n            rendererRef.current.render(sceneRef.current, cameraRef.current);\n        }\n    };\n\n    useEffect(() => {\n        isLoading360Ref.current = isLoading360;\n    }, [isLoading360]);\n\n    useEffect(() => {\n        const container = containerRef.current;\n        if (!container) return;\n\n        const scene = new THREE.Scene();\n        sceneRef.current = scene;\n\n        const camera = new THREE.PerspectiveCamera(VERTICAL_FOV, container.clientWidth / container.clientHeight, 0.1, 1000);\n        cameraRef.current = camera;\n\n        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\n        renderer.setSize(container.clientWidth, container.clientHeight);\n        container.appendChild(renderer.domElement);\n        rendererRef.current = renderer;\n\n        const modelGroup = new THREE.Group();\n        scene.add(modelGroup);\n        modelGroupRef.current = modelGroup;\n\n        const loader = new GLTFLoader();\n        loader.load(\"/models/ocluder.glb\", (gltf) => {\n            const model = gltf.scene;\n            const originalColor = new THREE.Color(\"#000\");\n\n            model.traverse((child) => {\n                if ((child as THREE.Mesh).isMesh) {\n                    const mesh = child as THREE.Mesh;\n\n                    const occluderMaterial = new THREE.MeshBasicMaterial({\n                        color: originalColor,\n                        transparent: false,\n                        opacity: 1.0,\n                        depthWrite: true,\n                        depthTest: true,\n                        colorWrite: false,\n                        side: THREE.DoubleSide,\n                    });\n\n                    const hoverMaterial = new THREE.MeshBasicMaterial({\n                        color: HOVER_COLOR,\n                        transparent: true,\n                        opacity: 0.4,\n                        depthWrite: false,\n                        depthTest: true,\n                        side: THREE.FrontSide,\n                        blending: THREE.NoBlending,\n                    });\n\n                    const activeMaterial = new THREE.MeshBasicMaterial({\n                        color: ACTIVE_COLOR,\n                        transparent: true,\n                        opacity: 0.6,\n                        depthWrite: false,\n                        depthTest: true,\n                        side: THREE.FrontSide,\n                        blending: THREE.NoBlending,\n                    });\n\n                    mesh.material = occluderMaterial;\n                    mesh.renderOrder = 999;\n\n                    mesh.userData = {\n                        info: \"Occluder\",\n                        defaultMaterial: occluderMaterial,\n                        hoverMaterial: hoverMaterial,\n                        activeMaterial: activeMaterial,\n                    };\n                }\n            });\n\n            model.position.copy(MODEL_POSITION);\n            modelGroup.add(model);\n        });\n\n        const getTotalImages = () => {\n            const viewer = document.querySelector(\".cloudimage-360\");\n            totalImagesRef.current = parseInt(viewer?.getAttribute(\"data-amount-x\") || \"36\");\n        };\n\n        setTimeout(getTotalImages, 100);\n        animate();\n\n        window.addEventListener(\"resize\", () => renderer.setSize(container.clientWidth, container.clientHeight));\n\n        return () => {\n            window.removeEventListener(\"resize\", () => renderer.setSize(container.clientWidth, container.clientHeight));\n            if (rendererRef.current) rendererRef.current.dispose();\n        };\n    }, []);\n\n    useEffect(() => {\n        const enable = !selectedFloor;\n\n        if (enable) {\n            window.addEventListener(\"mousedown\", handleMouseDown);\n            window.addEventListener(\"click\", handleClick);\n            window.addEventListener(\"touchstart\", handleTouchStart, { passive: false });\n            window.addEventListener(\"touchmove\", handleTouchMove, { passive: false });\n            window.addEventListener(\"touchend\", handleTouchEnd, { passive: false });\n            if (!isTouchDevice) {\n                window.addEventListener(\"mousemove\", handleMouseMove);\n            }\n        } else {\n            window.removeEventListener(\"mousemove\", handleMouseMove);\n            window.removeEventListener(\"mousedown\", handleMouseDown);\n            window.removeEventListener(\"click\", handleClick);\n            window.removeEventListener(\"touchstart\", handleTouchStart);\n            window.removeEventListener(\"touchmove\", handleTouchMove);\n            window.removeEventListener(\"touchend\", handleTouchEnd);\n            resetHoveredObject();\n        }\n\n        return () => {\n            window.removeEventListener(\"mousemove\", handleMouseMove);\n            window.removeEventListener(\"mousedown\", handleMouseDown);\n            window.removeEventListener(\"click\", handleClick);\n            window.removeEventListener(\"touchstart\", handleTouchStart);\n            window.removeEventListener(\"touchmove\", handleTouchMove);\n            window.removeEventListener(\"touchend\", handleTouchEnd);\n        };\n    }, [selectedFloor]);\n\n    const handleTouchEnd = (e: TouchEvent) => {\n        if (isLoading360Ref.current) return;\n\n        if (e.changedTouches.length === 1 && !isDraggingRef.current) {\n            const clientX = e.changedTouches[0].clientX;\n            const clientY = e.changedTouches[0].clientY;\n            if (!rendererRef.current || !cameraRef.current || !modelGroupRef.current) return;\n            const rect = rendererRef.current.domElement.getBoundingClientRect();\n            mouseRef.current.x = ((clientX - rect.left) / rect.width) * 2 - 1;\n            mouseRef.current.y = -((clientY - rect.top) / rect.height) * 2 + 1;\n            raycasterRef.current.setFromCamera(mouseRef.current, cameraRef.current);\n            const intersects = raycasterRef.current.intersectObjects(modelGroupRef.current.children, true);\n            if (intersects.length > 0) {\n                const clickedObject = intersects[0].object;\n                if (clickedObject.userData?.info) {\n                    handleObjectClick(clickedObject);\n                }\n            }\n        }\n    };\n\n    // Новый useEffect для сброса activeObjectRef при закрытии панели\n    useEffect(() => {\n        if (selectedFloor === null && activeObjectRef.current && activeObjectRef.current.userData?.defaultMaterial) {\n            activeObjectRef.current.material = activeObjectRef.current.userData.defaultMaterial;\n            activeObjectRef.current = null;\n        }\n    }, [selectedFloor]);\n\n    return <div ref={containerRef} id=\"threejs-container\" className=\"w-full h-full\" />;\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/features/FloorPlan.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, MouseEvent, useCallback } from \"react\";\n\nimport { FloorPlanProps } from \"@t\";\n\nexport const FloorPlan = ({ selectedFloor, selectedApartament, setSelectedApartament }: FloorPlanProps) => {\n    const [planSvg, setPlanSvg] = useState<string | null>(null);\n\n    const getPlanSvg = useCallback(async () => {\n        const svgUrl = `/floors/${selectedFloor.occluderName}/floor-plan.svg`;\n        const response = await fetch(svgUrl);\n        let planSvg = await response.text();\n\n        if (selectedApartament) {\n            planSvg = planSvg.replace(new RegExp(`id=\"${selectedApartament.id}\"`, \"g\"), `id=\"${selectedApartament.id}\" class=\"selected-apartament\"`);\n        }\n\n        setPlanSvg(planSvg);\n    }, [selectedApartament, selectedFloor.occluderName]);\n\n    const handlePlanClick = (e: MouseEvent) => {\n        const { target } = e;\n\n        if (!(target instanceof SVGElement && target.nodeName === \"path\")) return;\n\n        const apartamentId = target.id;\n\n        if (!apartamentId) return;\n\n        const apartament = selectedFloor.apartaments.find((apartament) => apartament.id === apartamentId);\n\n        if (!apartament) return;\n\n        setSelectedApartament(apartament);\n    };\n\n    useEffect(() => {\n        getPlanSvg();\n    }, [selectedApartament, getPlanSvg]);\n\n    if (!planSvg) return null;\n\n    return <div onClick={handlePlanClick} className=\"floor-plan\" dangerouslySetInnerHTML={{ __html: planSvg }}></div>;\n};\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAMO,MAAM,YAAY,CAAC,EAAE,aAAa,EAAE,kBAAkB,EAAE,qBAAqB,EAAkB;;IAClG,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAEtD,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;6CAAE;YAC3B,MAAM,SAAS,CAAC,QAAQ,EAAE,cAAc,YAAY,CAAC,eAAe,CAAC;YACrE,MAAM,WAAW,MAAM,MAAM;YAC7B,IAAI,UAAU,MAAM,SAAS,IAAI;YAEjC,IAAI,oBAAoB;gBACpB,UAAU,QAAQ,OAAO,CAAC,IAAI,OAAO,CAAC,IAAI,EAAE,mBAAmB,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,IAAI,EAAE,mBAAmB,EAAE,CAAC,6BAA6B,CAAC;YAC3I;YAEA,WAAW;QACf;4CAAG;QAAC;QAAoB,cAAc,YAAY;KAAC;IAEnD,MAAM,kBAAkB,CAAC;QACrB,MAAM,EAAE,MAAM,EAAE,GAAG;QAEnB,IAAI,CAAC,CAAC,kBAAkB,cAAc,OAAO,QAAQ,KAAK,MAAM,GAAG;QAEnE,MAAM,eAAe,OAAO,EAAE;QAE9B,IAAI,CAAC,cAAc;QAEnB,MAAM,aAAa,cAAc,WAAW,CAAC,IAAI,CAAC,CAAC,aAAe,WAAW,EAAE,KAAK;QAEpF,IAAI,CAAC,YAAY;QAEjB,sBAAsB;IAC1B;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACN;QACJ;8BAAG;QAAC;QAAoB;KAAW;IAEnC,IAAI,CAAC,SAAS,OAAO;IAErB,qBAAO,6LAAC;QAAI,SAAS;QAAiB,WAAU;QAAa,yBAAyB;YAAE,QAAQ;QAAQ;;;;;;AAC5G;GAtCa;KAAA","debugId":null}},
    {"offset": {"line": 567, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/features/index.ts"],"sourcesContent":["export { ThreeScene } from \"./ThreeScene\";\nexport { FloorPlan } from \"./FloorPlan\";\n"],"names":[],"mappings":";AAAA;AACA","debugId":null}},
    {"offset": {"line": 591, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/layout/MainLayout.tsx"],"sourcesContent":["import { LayoutProps } from \"@/types\";\n\nexport const MainLayout = ({ children }: LayoutProps) => {\n    return (\n        <div className=\"flex flex-col overflow-clip min-h-screen\">\n            <main className=\"flex-1\">{children}</main>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAEO,MAAM,aAAa,CAAC,EAAE,QAAQ,EAAe;IAChD,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAK,WAAU;sBAAU;;;;;;;;;;;AAGtC;KANa","debugId":null}},
    {"offset": {"line": 625, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/layout/index.ts"],"sourcesContent":["export { MainLayout } from \"./MainLayout\";\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 646, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/ui/IframePopup.tsx"],"sourcesContent":["\"use client\";\n\nimport clsx from \"clsx\";\nimport { useEffect } from \"react\";\n\nimport { IframePopupProps } from \"@t\";\n\nexport const IframePopup = ({ iframeUrl, onClose }: IframePopupProps) => {\n    useEffect(() => {\n        if (iframeUrl) {\n            document.body.classList.add(\"disable-scroll\");\n        } else {\n            document.body.classList.remove(\"disable-scroll\");\n        }\n\n        return () => {\n            document.body.classList.remove(\"disable-scroll\");\n        };\n    }, [iframeUrl]);\n\n    if (!iframeUrl) return null;\n\n    return (\n        <div\n            className={clsx(\"fixed inset-0 z-[100] bg-overlay flex items-center justify-center px-2 sm:px-6\", \"transition-all duration-1000\", {\n                \"opacity-100 pointer-events-auto\": iframeUrl,\n                \"opacity-0 pointer-events-none\": !iframeUrl,\n            })}\n            onClick={onClose}\n        >\n            <button className=\"absolute top-[24px] right-[16px] text-white\">\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M1 1L15 15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinejoin=\"round\" />\n                    <path d=\"M15 1L1 15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinejoin=\"round\" />\n                </svg>\n            </button>\n            <div className=\"relative w-full max-w-[800px] bg-black rounded-xl shadow-xl overflow-hidden max-h-[90dvh]\" onClick={(e) => e.stopPropagation()}>\n                <iframe\n                    src={iframeUrl}\n                    className=\"w-full h-[70dvh] sm:h-[600px] border-none rounded-xl\"\n                    allow=\"xr-spatial-tracking; gyroscope; accelerometer\"\n                    allowFullScreen\n                />\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAOO,MAAM,cAAc,CAAC,EAAE,SAAS,EAAE,OAAO,EAAoB;;IAChE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACN,IAAI,WAAW;gBACX,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;YAChC,OAAO;gBACH,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACnC;YAEA;yCAAO;oBACH,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACnC;;QACJ;gCAAG;QAAC;KAAU;IAEd,IAAI,CAAC,WAAW,OAAO;IAEvB,qBACI,6LAAC;QACG,WAAW,CAAA,GAAA,wIAAA,CAAA,UAAI,AAAD,EAAE,kFAAkF,gCAAgC;YAC9H,mCAAmC;YACnC,iCAAiC,CAAC;QACtC;QACA,SAAS;;0BAET,6LAAC;gBAAO,WAAU;0BACd,cAAA,6LAAC;oBAAI,OAAM;oBAAK,QAAO;oBAAK,SAAQ;oBAAY,MAAK;oBAAO,OAAM;;sCAC9D,6LAAC;4BAAK,GAAE;4BAAa,QAAO;4BAAe,aAAY;4BAAI,gBAAe;;;;;;sCAC1E,6LAAC;4BAAK,GAAE;4BAAa,QAAO;4BAAe,aAAY;4BAAI,gBAAe;;;;;;;;;;;;;;;;;0BAGlF,6LAAC;gBAAI,WAAU;gBAA4F,SAAS,CAAC,IAAM,EAAE,eAAe;0BACxI,cAAA,6LAAC;oBACG,KAAK;oBACL,WAAU;oBACV,OAAM;oBACN,eAAe;;;;;;;;;;;;;;;;;AAKnC;GAvCa;KAAA","debugId":null}},
    {"offset": {"line": 761, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/ui/Button.tsx"],"sourcesContent":["import clsx from \"clsx\";\nimport { ButtonHTMLAttributes } from \"react\";\n\nimport { ButtonProps } from \"@/types\";\n\nexport const Button = (props: ButtonProps) => {\n    const { className, children, onClick, isDisabled = false, ...rest } = props;\n    const classes = clsx(\n        \"py-[10px] px-[32px] w-full min-h-[calc(var(--index)*1.4)] flex items-center justify-center rounded-[10px] bg-white shadow-button uppercase\",\n        \"transition-all duration-300 hover:bg-black hover:text-white\",\n        className\n    );\n\n    const buttonProps = rest as ButtonHTMLAttributes<HTMLButtonElement>;\n\n    return (\n        <button type=\"button\" disabled={isDisabled} onClick={onClick} className={classes} {...buttonProps}>\n            {children}\n        </button>\n    );\n};\n"],"names":[],"mappings":";;;;AAAA;;;AAKO,MAAM,SAAS,CAAC;IACnB,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,aAAa,KAAK,EAAE,GAAG,MAAM,GAAG;IACtE,MAAM,UAAU,CAAA,GAAA,wIAAA,CAAA,UAAI,AAAD,EACf,8IACA,+DACA;IAGJ,MAAM,cAAc;IAEpB,qBACI,6LAAC;QAAO,MAAK;QAAS,UAAU;QAAY,SAAS;QAAS,WAAW;QAAU,GAAG,WAAW;kBAC5F;;;;;;AAGb;KAfa","debugId":null}},
    {"offset": {"line": 797, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/ui/KuulaEmbed.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\n\nexport const KuulaEmbed = () => {\n    useEffect(() => {\n        // Удалим предыдущие встраивания\n        const existingEmbed = document.querySelector(\"[data-kuula]\");\n        if (existingEmbed) {\n            existingEmbed.remove();\n        }\n\n        const script = document.createElement(\"script\");\n        script.src = \"https://static.kuula.io/embed.js\";\n        script.async = true;\n        script.setAttribute(\"data-kuula\", \"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1\");\n        script.setAttribute(\"data-width\", \"100%\");\n        script.setAttribute(\"data-height\", \"640px\");\n\n        // Обязательно вставляем в BODY!\n        document.body.appendChild(script);\n    }, []);\n\n    return (\n        <div data-kuula className=\"text-white text-center mt-20 relative z-10\">\n            <h1 className=\"text-2xl mb-4\">Kuula вставка</h1>\n            <p className=\"opacity-70\">Тур ниже вставится в body</p>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAIO,MAAM,aAAa;;IACtB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACN,gCAAgC;YAChC,MAAM,gBAAgB,SAAS,aAAa,CAAC;YAC7C,IAAI,eAAe;gBACf,cAAc,MAAM;YACxB;YAEA,MAAM,SAAS,SAAS,aAAa,CAAC;YACtC,OAAO,GAAG,GAAG;YACb,OAAO,KAAK,GAAG;YACf,OAAO,YAAY,CAAC,cAAc;YAClC,OAAO,YAAY,CAAC,cAAc;YAClC,OAAO,YAAY,CAAC,eAAe;YAEnC,gCAAgC;YAChC,SAAS,IAAI,CAAC,WAAW,CAAC;QAC9B;+BAAG,EAAE;IAEL,qBACI,6LAAC;QAAI,YAAU;QAAC,WAAU;;0BACtB,6LAAC;gBAAG,WAAU;0BAAgB;;;;;;0BAC9B,6LAAC;gBAAE,WAAU;0BAAa;;;;;;;;;;;;AAGtC;GAzBa;KAAA","debugId":null}},
    {"offset": {"line": 865, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/ui/index.ts"],"sourcesContent":["export { FloorPanel } from \"./FloorPanel\";\nexport { IframePopup } from \"./IframePopup\";\nexport { Button } from \"./Button\";\nexport { KuulaEmbed } from \"./KuulaEmbed\";\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 895, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/index.ts"],"sourcesContent":["export * from \"./features\";\nexport * from \"./layout\";\nexport * from \"./ui\";\n"],"names":[],"mappings":";AAAA;AACA;AACA","debugId":null}},
    {"offset": {"line": 922, "column": 0}, "map": {"version":3,"sources":["file:///Users/batomunkuevv/Desktop/Work/Frontend/web-exterior/src/app/components/ui/FloorPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport clsx from \"clsx\";\nimport { useEffect } from \"react\";\n\nimport { FloorPanelProps } from \"@t\";\n\nimport Image from \"next/image\";\nimport { Button, FloorPlan } from \"@components\";\n\nexport const FloorPanel = ({\n    selectedFloor,\n    setSelectedFloor,\n    isOpenFloorPanel,\n    setIsOpenFloorPanel,\n    selectedApartament,\n    setSelectedApartament,\n    setTourUrl,\n}: FloorPanelProps) => {\n    const floorBase = selectedFloor ? `/floors/${selectedFloor.occluderName}/floor-base.png` : null;\n\n    const handleButtonClick = async () => {\n        if (!selectedApartament) return;\n\n        setTourUrl(selectedApartament.tourUrl);\n    };\n\n    const handleCloseClick = () => {\n        setIsOpenFloorPanel(false);\n\n        setTimeout(() => {\n            setSelectedFloor(null);\n        }, 300);\n    };\n\n    useEffect(() => {\n        if (!selectedFloor) return;\n\n        setSelectedApartament(selectedFloor.apartaments[0]);\n    }, [selectedFloor, setSelectedApartament]);\n\n    return (\n        <div\n            className={clsx(\n                \"py-[calc(var(--index)*1.35)] px-[40px] z-[100] fixed top-[6.5vh] right-[40px] w-full max-w-[calc(var(--index)*13.2)] max-h-[calc(100%-56px)]\",\n                \"tb:pt-[6vh] tb:pb-[3vh] tb:px-[24px] tb:top-[16px] tb:right-1/2 tb:translate-x-1/2 tb:w-[calc(100%-32px)] tb:max-w-[360px] tb:max-h-[calc(100%-32px)]\",\n                \"bg-floor-panel border-2 border-yellow flex flex-col items-center text-center\",\n                \"overflow-auto transition-all duration-300\",\n                {\n                    \"opacity-100 pointer-events-auto\": isOpenFloorPanel,\n                    \"opacity-0 pointer-events-none\": !isOpenFloorPanel,\n                }\n            )}\n        >\n            <button\n                onClick={handleCloseClick}\n                className=\"absolute top-[calc(var(--index)*0.7)] right-[calc(var(--index)*0.55)] w-[calc(var(--index)*0.55)] h-[calc(var(--index)*0.55)] text-black tb:top-[calc(var(--index)*1)] tb:right-[calc(var(--index)*0.8)] tb:w-[calc(var(--index)*1.5)] tb:h-[calc(var(--index)*1.5)]\"\n            >\n                <svg className=\"w-full h-full\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M1 1L15 15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinejoin=\"round\" />\n                    <path d=\"M15 1L1 15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinejoin=\"round\" />\n                </svg>\n            </button>\n            <h2 className=\"mb-[calc(var(--index)*1.05)] text-[calc(var(--index)*1.05)] leading-[130%] tb:text-[calc(var(--index)*1.5)]\">1152 Lafayette Ave</h2>\n            <div className=\"mb-[calc(var(--index)*1.6)] sm:mb-[calc(var(--index)*1.05)]\">\n                {selectedFloor?.description && <p dangerouslySetInnerHTML={{ __html: selectedFloor.description }}></p>}\n                {selectedApartament?.description && <p dangerouslySetInnerHTML={{ __html: selectedApartament.description }}></p>}\n            </div>\n            {floorBase && (\n                <div className={clsx(\"mx-[-40px] mb-[32px] w-[calc(100%+80px)] max-h-[54vh] overflow-hidden relative\", \"tb:mx-[-24px] tb:w-[calc(100%+48px)]\")}>\n                    <div className=\"pt-[139.28%]\"></div>\n                    <Image className=\"object-contain\" fill src={floorBase} sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\" alt=\"Apartament\" />\n                    {selectedFloor && (\n                        <FloorPlan selectedFloor={selectedFloor} selectedApartament={selectedApartament} setSelectedApartament={setSelectedApartament} />\n                    )}\n                </div>\n            )}\n            <Button className=\"mt-auto\" onClick={handleButtonClick}>\n                Explore 3d\n            </Button>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;AAIA;AACA;AAAA;AAAA;;;AARA;;;;;AAUO,MAAM,aAAa,CAAC,EACvB,aAAa,EACb,gBAAgB,EAChB,gBAAgB,EAChB,mBAAmB,EACnB,kBAAkB,EAClB,qBAAqB,EACrB,UAAU,EACI;;IACd,MAAM,YAAY,gBAAgB,CAAC,QAAQ,EAAE,cAAc,YAAY,CAAC,eAAe,CAAC,GAAG;IAE3F,MAAM,oBAAoB;QACtB,IAAI,CAAC,oBAAoB;QAEzB,WAAW,mBAAmB,OAAO;IACzC;IAEA,MAAM,mBAAmB;QACrB,oBAAoB;QAEpB,WAAW;YACP,iBAAiB;QACrB,GAAG;IACP;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACN,IAAI,CAAC,eAAe;YAEpB,sBAAsB,cAAc,WAAW,CAAC,EAAE;QACtD;+BAAG;QAAC;QAAe;KAAsB;IAEzC,qBACI,6LAAC;QACG,WAAW,CAAA,GAAA,wIAAA,CAAA,UAAI,AAAD,EACV,gJACA,yJACA,gFACA,6CACA;YACI,mCAAmC;YACnC,iCAAiC,CAAC;QACtC;;0BAGJ,6LAAC;gBACG,SAAS;gBACT,WAAU;0BAEV,cAAA,6LAAC;oBAAI,WAAU;oBAAgB,SAAQ;oBAAY,MAAK;oBAAO,OAAM;;sCACjE,6LAAC;4BAAK,GAAE;4BAAa,QAAO;4BAAe,aAAY;4BAAI,gBAAe;;;;;;sCAC1E,6LAAC;4BAAK,GAAE;4BAAa,QAAO;4BAAe,aAAY;4BAAI,gBAAe;;;;;;;;;;;;;;;;;0BAGlF,6LAAC;gBAAG,WAAU;0BAA8G;;;;;;0BAC5H,6LAAC;gBAAI,WAAU;;oBACV,eAAe,6BAAe,6LAAC;wBAAE,yBAAyB;4BAAE,QAAQ,cAAc,WAAW;wBAAC;;;;;;oBAC9F,oBAAoB,6BAAe,6LAAC;wBAAE,yBAAyB;4BAAE,QAAQ,mBAAmB,WAAW;wBAAC;;;;;;;;;;;;YAE5G,2BACG,6LAAC;gBAAI,WAAW,CAAA,GAAA,wIAAA,CAAA,UAAI,AAAD,EAAE,kFAAkF;;kCACnG,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC,gIAAA,CAAA,UAAK;wBAAC,WAAU;wBAAiB,IAAI;wBAAC,KAAK;wBAAW,OAAM;wBAA2D,KAAI;;;;;;oBAC3H,+BACG,6LAAC,qJAAA,CAAA,YAAS;wBAAC,eAAe;wBAAe,oBAAoB;wBAAoB,uBAAuB;;;;;;;;;;;;0BAIpH,6LAAC,4IAAA,CAAA,SAAM;gBAAC,WAAU;gBAAU,SAAS;0BAAmB;;;;;;;;;;;;AAKpE;GAxEa;KAAA","debugId":null}}]
}