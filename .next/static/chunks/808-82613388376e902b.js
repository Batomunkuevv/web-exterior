(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{347:()=>{},5795:(e,t,r)=>{"use strict";r.d(t,{FloorPlan:()=>l});var n=r(5155),o=r(2115);let l=e=>{let{selectedFloor:t,selectedApartament:r,setSelectedApartament:l}=e,[s,i]=(0,o.useState)(null),c=async()=>{let e="/floors/".concat(t.occluderName,"/floor-plan.svg"),n=await fetch(e),o=await n.text();r&&(o=o.replace(RegExp('id="'.concat(r.id,'"'),"g"),'id="'.concat(r.id,'" class="selected-apartament"'))),i(o)};return((0,o.useEffect)(()=>{c()},[r]),s)?(0,n.jsx)("div",{onClick:e=>{let{target:r}=e;if(!(r instanceof SVGElement&&"path"===r.nodeName))return;let n=r.id;if(!n)return;let o=t.apartaments.find(e=>e.id===n);o&&l(o)},className:"floor-plan",dangerouslySetInnerHTML:{__html:s}}):null}},9168:(e,t,r)=>{"use strict";r.d(t,{$n:()=>a,Dp:()=>s.FloorPanel,sk:()=>o.FloorPlan,jN:()=>c,Xl:()=>n.ThreeScene});var n=r(9922),o=r(5795),l=r(5155),s=r(9917),i=r(2596);let c=e=>{let{iframeUrl:t,onClose:r}=e;return t?(0,l.jsxs)("div",{className:(0,i.A)("fixed inset-0 z-[100] bg-overlay flex items-center justify-center px-2 sm:px-6","transition-all duration-1000",{"opacity-100 pointer-events-auto":t,"opacity-0 pointer-events-none":!t}),onClick:r,children:[(0,l.jsx)("button",{className:"absolute top-[24px] right-[16px] text-white",children:(0,l.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M1 1L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M15 1L1 15",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})]})}),(0,l.jsx)("div",{className:"relative w-full max-w-[800px] bg-black rounded-xl shadow-xl overflow-hidden max-h-[90dvh]",onClick:e=>e.stopPropagation(),children:(0,l.jsx)("iframe",{src:t,className:"w-full h-[70dvh] sm:h-[600px] border-none rounded-xl",allow:"xr-spatial-tracking; gyroscope; accelerometer",allowFullScreen:!0})})]}):null},a=e=>{let{className:t,children:r,onClick:n,isDisabled:o=!1,...s}=e,c=(0,i.A)("py-[10px] px-[32px] w-full h-[42px] flex items-center justify-center rounded-[10px] bg-white shadow-button text-[20px] uppercase tb:text-[16px]","transition-all duration-300 hover:bg-black hover:text-white",t);return(0,l.jsx)("button",{type:"button",disabled:o,onClick:n,className:c,...s,children:r})}},9917:(e,t,r)=>{"use strict";r.d(t,{FloorPanel:()=>c});var n=r(5155),o=r(2596),l=r(2115),s=r(6766),i=r(9168);let c=e=>{let{selectedFloor:t,setSelectedFloor:r,isOpenFloorPanel:c,setIsOpenFloorPanel:a,selectedApartament:u,setSelectedApartament:d,setTourUrl:h}=e,p=t?"/floors/".concat(t.occluderName,"/floor-base.png"):null;return(0,l.useEffect)(()=>{t&&d(t.apartaments[0])},[t]),(0,n.jsxs)("div",{className:(0,o.A)("p-[40px] z-[100] absolute top-[6.5vh] bottom-[6.5vh] right-[40px] w-full max-w-[422px]","tb:pt-[48px] tb:p-[24px] tb:w-[unset] tb:inset-[16px] tb:max-w-[unset]","bg-floor-panel border-2 border-yellow flex flex-col items-center text-center","overflow-auto transition-all duration-300",{"opacity-100 pointer-events-auto":c,"opacity-0 pointer-events-none":!c}),children:[(0,n.jsx)("button",{onClick:()=>{a(!1),setTimeout(()=>{r(null)},300)},className:"absolute top-[24px] right-[16px] text-black",children:(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M1 1L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M15 1L1 15",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})]})}),(0,n.jsx)("h2",{className:"mb-[32px] text-[32px] leading-[130%] xs:text-[24px]",children:"1152 Lafayette Ave"}),(0,n.jsxs)("div",{className:"mb-[48px] sm:mb-[32px]",children:[(null==t?void 0:t.description)&&(0,n.jsx)("p",{dangerouslySetInnerHTML:{__html:t.description}}),(null==u?void 0:u.description)&&(0,n.jsx)("p",{dangerouslySetInnerHTML:{__html:u.description}})]}),p&&(0,n.jsxs)("div",{className:(0,o.A)("mx-[-40px] mb-[32px] w-[calc(100%+80px)] max-h-[54vh] overflow-hidden relative","tb:mx-[-24px] tb:w-[calc(100%+48px)]"),children:[(0,n.jsx)("div",{className:"pt-[139.28%]"}),(0,n.jsx)(s.default,{className:"object-contain",fill:!0,src:p,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",alt:"Apartament"}),t&&(0,n.jsx)(i.sk,{selectedFloor:t,selectedApartament:u,setSelectedApartament:d})]}),(0,n.jsx)(i.$n,{className:"mt-auto",onClick:()=>{u&&h(u.tourUrl)},children:"Explore 3d"})]})}},9922:(e,t,r)=>{"use strict";r.d(t,{ThreeScene:()=>h});var n=r(5155),o=r(2115),l=r(3264),s=r(7431),i=r(9311);let c=[{occluderName:"Ocluder_1",description:"1B - 2 bedroom",apartaments:[{id:"1",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"},{id:"2",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"}]},{occluderName:"Ocluder_2",description:"2B - 2 bedroom",apartaments:[{id:"1",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"},{id:"2",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"}]},{occluderName:"Ocluder_3",description:"3B - 2 bedroom",apartaments:[{id:"1",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"},{id:"2",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"}]},{occluderName:"Ocluder_4",description:"4B - 2 bedroom",apartaments:[{id:"1",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"},{id:"2",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"}]},{occluderName:"Ocluder_pent",description:"Pent - 2 bedroom",apartaments:[{id:"1",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"},{id:"2",description:"975 sf",tourUrl:"https://kuula.co/share/collection/7bysW?logo=1&info=1&fs=1&vr=0&sd=1&thumbs=1"}]}],a=new l.Pq0(0,0,0),u=new l.Pq0(1.609383,-5.364124,-6.248453),d=l.cj9.radToDeg(2*Math.atan(Math.tan(l.cj9.degToRad(37)/1))),h=e=>{let{selectedFloor:t,setSelectedFloor:r,setSelectedApartament:h,setIsOpenFloorPanel:p}=e,m=(0,o.useRef)(null),f=(0,o.useRef)(null),v=(0,o.useRef)(null),x=(0,o.useRef)(null),w=(0,o.useRef)(null),b=(0,o.useRef)(new l.tBo),g=(0,o.useRef)(new l.I9Y),k=(0,o.useRef)(null),j=(0,o.useRef)(!1),y=(0,o.useRef)(0),E=(0,o.useRef)(0),L=(0,o.useRef)(36),N=(0,o.useRef)(!1),M=()=>{var e;let t=k.current;t&&(null==(e=t.userData)?void 0:e.defaultMaterial)&&(t.material=t.userData.defaultMaterial,k.current=null)},W=e=>{let t=c.find(t=>t.occluderName===e.name);t&&(M(),r(t),h(null),p(!0))},C=(e,t)=>{var r,n;if(!f.current||!v.current||!w.current)return;let o=f.current.domElement.getBoundingClientRect();g.current.x=(e-o.left)/o.width*2-1,g.current.y=-(2*((t-o.top)/o.height))+1,b.current.setFromCamera(g.current,v.current);let l=b.current.intersectObjects(w.current.children,!0);if(k.current){let e=k.current;(null==(r=e.userData)?void 0:r.defaultMaterial)&&(e.material=e.userData.defaultMaterial),k.current=null}if(l.length>0){let e=l[0].object;(null==(n=e.userData)?void 0:n.hoverMaterial)&&(e.material=e.userData.hoverMaterial,k.current=e)}},R=e=>{if(!j.current){let t=e.clientX-y.current,r=e.clientY-E.current;Math.sqrt(t*t+r*r)>5&&(j.current=!0)}C(e.clientX,e.clientY)},B=e=>{1===e.touches.length&&C(e.touches[0].clientX,e.touches[0].clientY)},_=e=>{j.current=!1,y.current=e.clientX,E.current=e.clientY},A=e=>{1===e.touches.length&&(j.current=!1,y.current=e.touches[0].clientX,E.current=e.touches[0].clientY)},S=e=>{if(j.current)return;let t="touches"in e?e.touches[0].clientX:e.clientX,r="touches"in e?e.touches[0].clientY:e.clientY;if(!f.current||!v.current||!w.current)return;let n=f.current.domElement.getBoundingClientRect();g.current.x=(t-n.left)/n.width*2-1,g.current.y=-(2*((r-n.top)/n.height))+1,b.current.setFromCamera(g.current,v.current);let o=b.current.intersectObjects(w.current.children,!0);if(o.length>0){var l;let e=o[0].object;(null==(l=e.userData)?void 0:l.info)&&W(e)}},D=()=>{if(N.current)return;N.current=!0;let e=window.CI360;if((null==e?void 0:e.getActiveIndexByID)&&v.current){let t=e.getActiveIndexByID("product-360");if(void 0!==t){let e=-(t/L.current)*Math.PI*2,r=u.x+40*Math.sin(e),n=u.y+10,o=u.z+40*Math.cos(e);v.current.position.set(r,n,o),v.current.lookAt(u)}}N.current=!1},I=()=>{requestAnimationFrame(I),D(),f.current&&x.current&&v.current&&f.current.render(x.current,v.current)};return(0,o.useEffect)(()=>{let e=m.current;if(!e)return;let t=new l.Z58;x.current=t,v.current=new l.ubm(d,e.clientWidth/e.clientHeight,.1,1e3);let r=new s.JeP({antialias:!0,alpha:!0});r.setSize(e.clientWidth,e.clientHeight),e.appendChild(r.domElement),f.current=r;let n=new l.YJl;return t.add(n),w.current=n,new i.B().load("/models/ocluder.glb",e=>{let t=e.scene,r=new l.Q1f("#000");t.traverse(e=>{if(e.isMesh){let t=new l.V9B({color:r,transparent:!1,opacity:1,depthWrite:!0,depthTest:!0,colorWrite:!1,side:l.$EB}),n=new l.V9B({color:r,transparent:!0,opacity:.4,depthWrite:!1,depthTest:!0,side:l.hB5,blending:l.XIg});e.material=t,e.renderOrder=999,e.userData={info:"Occluder",defaultMaterial:t,hoverMaterial:n}}}),t.position.copy(a),n.add(t)}),setTimeout(()=>{let e=document.querySelector(".cloudimage-360");L.current=parseInt((null==e?void 0:e.getAttribute("data-amount-x"))||"36")},100),I(),window.addEventListener("resize",()=>r.setSize(e.clientWidth,e.clientHeight)),()=>{window.removeEventListener("resize",()=>r.setSize(e.clientWidth,e.clientHeight)),f.current&&f.current.dispose()}},[]),(0,o.useEffect)(()=>(t?(window.removeEventListener("mousemove",R),window.removeEventListener("mousedown",_),window.removeEventListener("click",S),window.removeEventListener("touchstart",A),window.removeEventListener("touchmove",B),M()):(window.addEventListener("mousemove",R),window.addEventListener("mousedown",_),window.addEventListener("click",S),window.addEventListener("touchstart",A,{passive:!1}),window.addEventListener("touchmove",B,{passive:!1})),()=>{window.removeEventListener("mousemove",R),window.removeEventListener("mousedown",_),window.removeEventListener("click",S),window.removeEventListener("touchstart",A),window.removeEventListener("touchmove",B)}),[t]),(0,n.jsx)("div",{ref:m,id:"threejs-container",className:"w-full h-full"})}}}]);